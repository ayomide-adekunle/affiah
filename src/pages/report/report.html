<!--
  Generated template for the Report page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar hideBackButton>
        <ion-buttons left (click)="goHome()">
            <button ion-button icon-only>
			<ion-icon name="home"></ion-icon>
		</button>
        </ion-buttons>
        <ion-title>Report</ion-title>
        <ion-buttons end (click)="downloadReport()">
            <button ion-button icon-only color="royal">
        <ion-icon name="print"></ion-icon>
      </button>
        </ion-buttons>
    </ion-navbar>


</ion-header>


<ion-content padding style="overflow-y: scroll;margin-bottom:100px !important">
    <p style="text-align:center" (click)="toggleChart()">
        <ion-icon name="contrast" style="color:rgba(54, 162, 235, 1)"></ion-icon> <span>Toggle Chart</span>
    </p>
    <div style="text-align:center" style="overflow-y: scroll;">
        <ion-item>
            <ion-label>From</ion-label>
            <ion-select [(ngModel)]="dateData.from" (ionChange)="onSelectFrom($event)">
                <ion-option [value]="label" *ngFor="let label of chartData.labels_default" selected="{{selectFifthToLast(label,chartData.labels)}}">{{label}}</ion-option>
            </ion-select>
        </ion-item>
        <ion-item>
            <ion-label>To</ion-label>
            <ion-select [(ngModel)]="dateData.to" (ionChange)="onSelectTo($event)">
                <ion-option [value]="label" *ngFor="let label of chartData.labels_default" selected="{{selectLastLabel(label,chartData.labels)}}">{{label}} </ion-option>
            </ion-select>
        </ion-item>

    </div>
    <div [hidden]="showLine"><canvas #barCanvas></canvas></div>
    <div [hidden]="showBar"><canvas #lineCanvas></canvas></div>

    <div class="report_tab">
        <div style="text-align:center;background-color: #2f64ff;color:#fff;font-size: 16px;padding: 10px;"> Transaction Summary for the period </div>
        <div class="row">
            <div class="col" style="border-right: 1px solid #2f64ff;">
                <p>Income: {{incomeLength}}</p>
                <p> Expenses: {{expenseLength}}</p>
                <p>Unpaid Invoices: {{invoiceLength}}</p>
            </div>
            <div class="col">
                <p>Total : <span style="font-family: sans-serif;">&#8358;&nbsp;</span>{{formatNumber(totalIncome)}}</p>
                <p>Total : <span style="font-family: sans-serif;">&#8358;&nbsp;</span>{{formatNumber(totalExpense)}}</p>
                <p>Total: <span style="font-family: sans-serif;">&#8358;&nbsp;</span>{{formatNumber(totalInvoice)}} </p>
            </div>
        </div>
        <div style="background-color: #2f64ff;color:#fff;font-size: 16px;padding: 10px;text-align:center">

            Net Profit/Gain: <span style="font-family: sans-serif;margin-left:10px">&#8358;&nbsp;</span>{{formatNumber(totalIncome-totalExpense)}}
        </div>
    </div>

</ion-content>